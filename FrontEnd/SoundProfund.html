<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #333333;
}

li {
  float: left;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 16px;
  font-size: 15px;
  text-decoration: none;
}

li a:hover {
  background-color: #111111;
}
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.speaker-image {
  background-image: url("Speakers.jpg");
  background-color: #cccccc;
  height: 700px;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  position: relative;
  /*
 	http://www.wallpaperdisk.com/download-Speaker-7054-wallpaper.html
	https://i.pinimg.com/474x/21/53/5d/21535d4840db763f83a3d732e3f3a497--wallpaper-backgrounds-desktop-wallpapers.jpg
	*/
}

.heading {
  text-align: center;
  position: absolute;
  top: 20%;
  left: 60%;
  transform: translate(-50%, -50%);
  color: white;
}

.input-button {
  text-align: center;
  position: absolute;
  top: 40%;
  left: 60%;
  transform: translate(-50%, -50%);
  color: white;
}

.output-text {
  text-align: center;
  position: absolute;
  top: 70%;
  left: 60%;
  transform: translate(-50%, -50%);
  color: white;
}
</style>
</head>
<body>


<div class="speaker-image">

	<div class="heading">
    	<h1 style="font-size:50px">Sound Profound</h1>
	</div>

	<div class="input-button" ng-app="myApp" ng-controller="myCtrl">
		<form ng-submit="myFunc()">
	  		<label for="audio"><h2>Upload your Audio File: </h2></label>
	  		<br>
	  		<input type="file" id="audio" name="audio" accept="audio/wav">
	  		<input type="submit" value="Upload">	
		</form>
		
		<h3>{{myTxt}}</h3>

		<script>
			var app = angular.module("myApp", []);
			app.controller("myCtrl", function($scope, $http) {
			$scope.myFunc = function () {	
				var formData = new FormData();
				let url = 'http://destinationurl.com/endpoint';
				let audioUploaded = document.getElementById('audio');
				formData.append('audioFile', audioUploaded);

				/*
					for (var value of formData.values()) {
	   				console.log(value); 
					}
					$.ajax({
	          		type: 'POST',
	          		url: '/tracks',
	          		data: fd,
	          		processData: false,
	          		contentType: false,
	          		dataType: "script"
	      		});
		      	=====
		      	var request = new XMLHttpRequest();
		     	request.open("POST", "url of the api");
		      	request.send(this.formdata);
				
	      		==========
	     		*/ 

	      		$http.post(url,formData).subscribe(response => {
	    			$scope.myTxt = message;
				}, err => {
	    			$scope.myTxt = message;
				});
	      	}
			});
		</script>

	</div>

	<div class="output-text">
  		<h2>The sound is of: </h2>
  		<h2>Response from python API </h2>
  	</div>

</div>
</body>
<ul>
  <li><a href="https://app.vyond.com/videos/a754695e-ceca-4c6b-9224-344f87f3fcf0">Trailer</a></li>
  <li><a href="SoundProfund.html">Home</a></li>
  <li><a href="Architecture.html">Architecture</a></li>
  <li><a href="Model.html">Model</a></li>
  <li><a href="Persona.html">Persona</a></li>
  <li><a href="About.html">About</a></li>
</ul>
</html>

